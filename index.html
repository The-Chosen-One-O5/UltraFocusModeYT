function setupYouTubePlayer() {
    if (player) {
        player.destroy();
    }
    player = new YT.Player('player', {
        height: '100%',
        width: '100%',
        playerVars: { autoplay: 1, controls: 1, modestbranding: 1, rel: 0 },
        events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange,
            'onError': (event) => {
                console.error('YouTube Player Error:', event.data);
                setTimeout(() => {
                    if (player && videoIds[currentVideoIndex]) {
                        player.loadVideoById(videoIds[currentVideoIndex]);
                    }
                }, 1000);
            }
        }
    });
}
